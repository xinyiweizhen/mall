(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d88bc49"],{"0a86":function(t,e,s){"use strict";var o=s("21ba"),n=s.n(o);n.a},"173f":function(t,e,s){},"21ba":function(t,e,s){},"268c":function(t,e,s){},"35eb":function(t,e,s){"use strict";var o=s("268c"),n=s.n(o);n.a},"456d":function(t,e,s){var o=s("4bf8"),n=s("0d58");s("5eda")("keys",function(){return function(t){return n(o(t))}})},"4a81":function(t,e,s){"use strict";var o=s("ef73"),n=s.n(o);n.a},"5cc1":function(t,e,s){"use strict";var o=s("c45e"),n=s.n(o);n.a},"5eda":function(t,e,s){var o=s("5ca1"),n=s("8378"),i=s("79e5");t.exports=function(t,e){var s=(n.Object||{})[t]||Object[t],a={};a[t]=e(s),o(o.S+o.F*i(function(){s(1)}),"Object",a)}},"6a2c":function(t,e,s){"use strict";var o=s("7f3c"),n=s.n(o);n.a},"6ab7":function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"detail"}},[s("detail-nav-bar",{staticClass:"nav-tabbar",attrs:{"current-index":t.currentIndex},on:{titleClick:t.selectTitle}}),s("scroll",{ref:"scroll",staticClass:"scroll",attrs:{"probe-type":3},on:{scroll:t.ScrollContent}},[s("detail-swiper",{attrs:{"top-images":t.topImages}}),s("goods-base-info",{attrs:{"goods-info":t.goodsInfo}}),s("shop-base-info",{attrs:{shopInfo:t.shopInfo}}),s("goods-detail-info",{attrs:{"detail-info":t.detailInfo},on:{imgLoad:t.imgLoaded}}),s("goods-params-info",{ref:"detailParams",attrs:{"param-info":t.goodsParamsInfo}}),s("goods-comment-info",{ref:"detailComment",attrs:{"comment-info":t.goodsCommentInfo}}),s("goods-list",{ref:"detailRecommend",attrs:{goods:t.recommendGoods}})],1),s("detail-bottom-bar",{on:{addToCart:t.addToCart}}),s("back-top",{directives:[{name:"show",rawName:"v-show",value:t.IsShowBackTop,expression:"IsShowBackTop"}],nativeOn:{click:function(e){return t.BackTop(e)}}})],1)},n=[],i=(s("8e6e"),s("ac6a"),s("456d"),s("c5f6"),s("bd86")),a=s("2f62"),r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("nav-bar",[o("div",{staticClass:"back",attrs:{slot:"left"},on:{click:t.backClick},slot:"left"},[o("img",{attrs:{src:s("7a74"),alt:""}})]),o("div",{staticClass:"title",attrs:{slot:"center"},slot:"center"},t._l(t.titles,function(e,s){return o("div",{key:s,staticClass:"title-item",class:{active:s===t.currentIndex},on:{click:function(e){return t.titleClick(s)}}},[t._v(t._s(e))])}),0)])],1)},c=[],l=s("a7ac"),f={name:"DetailNavBar",components:{NavBar:l["a"]},props:{titles:{type:Array,default:function(){return["商品","参数","评论","推荐"]}},currentIndex:{type:Number,default:0}},methods:{titleClick:function(t){this.$emit("titleClick",t)},backClick:function(){this.$router.back()}}},d=f,u=(s("8ab4"),s("2877")),m=Object(u["a"])(d,r,c,!1,null,"4534478f",null),p=m.exports,h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("swiper",{staticClass:"detail-swiper"},t._l(t.topImages,function(t,e){return s("swiper-item",{key:e},[s("img",{attrs:{src:t}})])}),1)},v=[],g=s("dc2c"),b={name:"DetailSwiper",components:{Swiper:g["a"],SwiperItem:g["b"]},props:{topImages:{type:Array,default:function(){return[]}}}},I=b,_=(s("be06"),Object(u["a"])(I,h,v,!1,null,"47be2446",null)),C=_.exports,y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0!==Object.keys(t.goodsInfo).length?s("div",{staticClass:"base-info"},[s("div",{staticClass:"info-title"},[t._v(t._s(t.goodsInfo.title))]),s("div",{staticClass:"info-price"},[s("span",{staticClass:"n-price"},[t._v(t._s(t.goodsInfo.newPrice))]),s("span",{staticClass:"o-price"},[t._v(t._s(t.goodsInfo.oldPrice))]),t.goodsInfo.discount?s("span",{staticClass:"discount"},[t._v(t._s(t.goodsInfo.discount))]):t._e()]),s("div",{staticClass:"info-other"},[s("span",[t._v(t._s(t.goodsInfo.columns[0]))]),s("span",[t._v(t._s(t.goodsInfo.columns[1]))]),s("span",[t._v(t._s(t.goodsInfo.services[t.goodsInfo.services.length-1].name))])]),s("div",{staticClass:"info-service"},t._l(t.goodsInfo.services.length-1,function(e){return s("span",{key:e,staticClass:"info-service-item"},[s("img",{attrs:{src:t.goodsInfo.services[e-1].icon}}),s("span",[t._v(t._s(t.goodsInfo.services[e-1].name))])])}),0)]):t._e()},O=[],k={name:"GoodsBaseInfo",props:{goodsInfo:{type:Object,default:function(){return{}}}}},T=k,w=(s("5cc1"),Object(u["a"])(T,y,O,!1,null,"1ff9620f",null)),L=w.exports,S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"shop-info"},[s("div",{staticClass:"shop-top"},[s("img",{attrs:{src:t.shopInfo.logo}}),s("span",{staticClass:"title"},[t._v(t._s(t.shopInfo.name))])]),s("div",{staticClass:"shop-middle"},[s("div",{staticClass:"shop-middle-item shop-middle-left"},[s("div",{staticClass:"info-sells"},[s("div",{staticClass:"sells-count"},[t._v("\n          "+t._s(t._f("sellCountFilter")(t.shopInfo.sells))+"\n        ")]),s("div",{staticClass:"sells-text"},[t._v("总销量")])]),s("div",{staticClass:"info-goods"},[s("div",{staticClass:"goods-count"},[t._v("\n          "+t._s(t.shopInfo.goodsCount)+"\n        ")]),s("div",{staticClass:"goods-text"},[t._v("全部宝贝")])])]),s("div",{staticClass:"shop-middle-item shop-middle-right"},[s("table",t._l(t.shopInfo.score,function(e,o){return s("tr",{key:o},[s("td",[t._v(t._s(e.name))]),s("td",{staticClass:"score",class:{"score-better":e.isBetter}},[t._v(t._s(e.score))]),s("td",{staticClass:"better",class:{"better-more":e.isBetter}},[s("span",[t._v(t._s(e.isBetter?"高":"低"))])])])}),0)])]),t._m(0)])},j=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"shop-bottom"},[s("div",{staticClass:"enter-shop"},[t._v("进店逛逛")])])}],x={name:"ShopBaseInfo",props:{shopInfo:{type:Object,default:function(){return{}}}},filters:{sellCountFilter:function(t){return t<1e4?t:(t/1e4).toFixed(1)+"万"}}},P=x,$=(s("4a81"),Object(u["a"])(P,S,j,!1,null,"2ff37739",null)),D=$.exports,E=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0!==Object.keys(t.detailInfo).length?s("div",{staticClass:"goods-info"},[s("div",{staticClass:"info-desc clear-fix"},[s("div",{staticClass:"start"}),s("div",{staticClass:"desc"},[t._v(t._s(t.detailInfo.desc))]),s("div",{staticClass:"end"})]),s("div",{staticClass:"info-key"},[t._v(t._s(t.detailInfo.detailImage[0].key))]),s("div",{staticClass:"info-list"},t._l(t.detailInfo.detailImage[0].list,function(e,o){return s("img",{key:o,attrs:{src:e,alt:""},on:{load:t.imgLoad}})}),0)]):t._e()},G=[],B={name:"GoodsDetailInfo",props:{detailInfo:{type:Object,default:function(){return{}}}},data:function(){return{loadImagesNum:0,imagesLenght:0}},methods:{imgLoad:function(){++this.loadImagesNum===this.imagesLenght&&this.$emit("imgLoad")}},watch:{detailInfo:function(){this.imagesLenght=this.detailInfo.detailImage[0].list.length}}},N=B,M=(s("35eb"),Object(u["a"])(N,E,G,!1,null,"6466a5b6",null)),A=M.exports,F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0!==Object.keys(t.paramInfo).length?s("div",{staticClass:"param-info"},[t._l(t.paramInfo.sizes,function(e,o){return s("table",{key:o,staticClass:"info-size"},t._l(e,function(e,o){return s("tr",{key:o},t._l(e,function(e,o){return s("td",{key:o},[t._v(t._s(e))])}),0)}),0)}),s("table",{staticClass:"info-param"},t._l(t.paramInfo.infos,function(e,o){return s("tr",{key:o},[s("td",{staticClass:"info-param-key"},[t._v(t._s(e.key))]),s("td",{staticClass:"param-value"},[t._v(t._s(e.value))])])}),0),0!==t.paramInfo.image.length?s("div",{staticClass:"info-img"},[s("img",{attrs:{src:t.paramInfo.image,alt:""}})]):t._e()],2):t._e()},V=[],R={name:"GoodsParamsInfo",props:{paramInfo:{type:Object,default:function(){return{}}}}},H=R,z=(s("9033"),Object(u["a"])(H,F,V,!1,null,"6faffaf2",null)),J=z.exports,q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[0!==Object.keys(t.commentInfo).length?s("div",{staticClass:"comment-info"},[t._m(0),s("div",{staticClass:"info-user"},[s("img",{attrs:{src:t.commentInfo.user.avatar,alt:""}}),s("span",[t._v(t._s(t.commentInfo.user.uname))])]),s("div",{staticClass:"info-detail"},[s("p",[t._v(t._s(t.commentInfo.content))]),s("div",{staticClass:"info-other"},[s("span",{staticClass:"date"},[t._v(t._s(t._f("showDate")(t.commentInfo.created)))]),s("span",[t._v(t._s(t.commentInfo.style))])]),s("div",{staticClass:"info-imgs"},t._l(t.commentInfo.images,function(t,e){return s("img",{key:e,attrs:{src:t}})}),0)])]):t._e()])},K=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"info-header"},[s("div",{staticClass:"header-title"},[t._v("用户评价")]),s("div",{staticClass:"header-more"},[t._v("\n                更多\n                "),s("i",{staticClass:"arrow-right"})])])}],U=s("90b9"),X={name:"GoodsCommentInfo",props:{commentInfo:{type:Object,default:function(){return{}}}},filters:{showDate:function(t){var e=new Date(1e3*t);return Object(U["b"])(e,"DATETIME")}}},Q=X,W=(s("6a2c"),Object(u["a"])(Q,q,K,!1,null,"c1ad450e",null)),Y=W.exports,Z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bottom-bar"},[t._m(0),s("div",{staticClass:"bar-item bar-right"},[s("div",{staticClass:"cart",on:{click:t.addToCart}},[t._v("加入购物车")]),s("div",{staticClass:"buy"},[t._v("购买")])])])},tt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bar-item bar-left"},[s("div",[s("i",{staticClass:"icon service"}),s("span",{staticClass:"text"},[t._v("客服")])]),s("div",[s("i",{staticClass:"icon shop"}),s("span",{staticClass:"text"},[t._v("店铺")])]),s("div",[s("i",{staticClass:"icon select"}),s("span",{staticClass:"text"},[t._v("收藏")])])])}],et={name:"DetailBottomBar",methods:{addToCart:function(){this.$emit("addToCart")}}},st=et,ot=(s("0a86"),Object(u["a"])(st,Z,tt,!1,null,"71b91a60",null)),nt=ot.exports,it=s("6d71"),at=s("5d17");s("7f7f");function rt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var ct=s("1bab");function lt(t){return Object(ct["a"])({url:"/detail",params:{iid:t}})}function ft(){return Object(ct["a"])({url:"/recommend"})}var dt=function t(e,s,o){rt(this,t),this.title=e.title,this.desc=e.desc,this.newPrice=e.price,this.oldPrice=e.oldPrice,this.discount=e.discountDesc,this.columns=s,this.services=o,this.realPrice=e.lowNowPrice},ut=function t(e){rt(this,t),this.logo=e.shopLogo,this.name=e.name,this.fans=e.cFans,this.sells=e.cSells,this.score=e.score,this.goodsCount=e.cGoods},mt=function t(e,s){rt(this,t),this.image=e.images?e.images[0]:"",this.infos=e.set,this.sizes=s.tables},pt=s("aff8");function ht(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,o)}return s}function vt(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?ht(s,!0).forEach(function(e){Object(i["a"])(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ht(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}var gt={name:"Detail",components:{GoodsCommentInfo:Y,DetailNavBar:p,DetailSwiper:C,GoodsBaseInfo:L,GoodsDetailInfo:A,GoodsParamsInfo:J,ShopBaseInfo:D,Scroll:at["a"],GoodsList:it["a"],DetailBottomBar:nt},mixins:[pt["b"],pt["a"]],data:function(){return{goodsId:null,topImages:[],goodsInfo:{},shopInfo:{},detailInfo:{},goodsParamsInfo:{},goodsCommentInfo:{},recommendGoods:[],themeOffsetTop:[],currentIndex:0}},created:function(){var t=this;this.goodsId=this.$route.params.goodsId,lt(this.goodsId).then(function(e){var s=e.result;t.topImages=s.itemInfo.topImages,t.goodsInfo=new dt(s.itemInfo,s.columns,s.shopInfo.services),t.shopInfo=new ut(s.shopInfo),t.detailInfo=s.detailInfo,t.goodsParamsInfo=new mt(s.itemParams.info,s.itemParams.rule),s.rate.list&&(t.goodsCommentInfo=s.rate.list[0])}),ft().then(function(e){t.recommendGoods=e.data.list})},methods:vt({imgLoaded:function(){this.$refs.scroll.refresh(),this.themeOffsetTop=[],this.themeOffsetTop.push(0),this.themeOffsetTop.push(this.$refs.detailParams.$el.offsetTop-46),this.themeOffsetTop.push(this.$refs.detailComment.$el.offsetTop-46),this.themeOffsetTop.push(this.$refs.detailRecommend.$el.offsetTop-46),this.themeOffsetTop.push(Number.MAX_VALUE)},selectTitle:function(t){this.$refs.scroll.ScrollTo(0,-this.themeOffsetTop[t],500)},ScrollContent:function(t){this.listenScrollTheme(-t.y),this.IsShowBackTop=-t.y>1e3},listenScrollTheme:function(t){for(var e=this.themeOffsetTop.length,s=0;s<e;s++){var o=this.themeOffsetTop[s];if(t>=o&&t<this.themeOffsetTop[s+1]){this.currentIndex!==s&&(this.currentIndex=s);break}}}},Object(a["b"])({addCart:"addGoodsToCart"}),{addToCart:function(){var t=this,e={};e.image=this.topImages[0],e.title=this.goodsInfo.title,e.desc=this.goodsInfo.desc,e.price=59.5,e.id=this.goodsId,this.addCart(e).then(function(e){t.$toast({message:"商品已成功添加到购物车"})})}}),destroyed:function(){this.$bus.$off("ImageLoaded",this.itemImgListener)}},bt=gt,It=(s("9b41"),Object(u["a"])(bt,o,n,!1,null,"fc168748",null));e["default"]=It.exports},"7a74":function(t,e,s){t.exports=s.p+"img/back.d5a990cc.svg"},"7f3c":function(t,e,s){},"7f7f":function(t,e,s){var o=s("86cc").f,n=Function.prototype,i=/^\s*function ([^ (]*)/,a="name";a in n||s("9e1e")&&o(n,a,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},"8ab4":function(t,e,s){"use strict";var o=s("173f"),n=s.n(o);n.a},"8e6e":function(t,e,s){var o=s("5ca1"),n=s("990b"),i=s("6821"),a=s("11e9"),r=s("f1ae");o(o.S,"Object",{getOwnPropertyDescriptors:function(t){var e,s,o=i(t),c=a.f,l=n(o),f={},d=0;while(l.length>d)s=c(o,e=l[d++]),void 0!==s&&r(f,e,s);return f}})},9033:function(t,e,s){"use strict";var o=s("c603"),n=s.n(o);n.a},"941e":function(t,e,s){},"990b":function(t,e,s){var o=s("9093"),n=s("2621"),i=s("cb7c"),a=s("7726").Reflect;t.exports=a&&a.ownKeys||function(t){var e=o.f(i(t)),s=n.f;return s?e.concat(s(t)):e}},"9b41":function(t,e,s){"use strict";var o=s("941e"),n=s.n(o);n.a},ac6a:function(t,e,s){for(var o=s("cadf"),n=s("0d58"),i=s("2aba"),a=s("7726"),r=s("32e9"),c=s("84f2"),l=s("2b4c"),f=l("iterator"),d=l("toStringTag"),u=c.Array,m={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=n(m),h=0;h<p.length;h++){var v,g=p[h],b=m[g],I=a[g],_=I&&I.prototype;if(_&&(_[f]||r(_,f,u),_[d]||r(_,d,g),c[g]=u,b))for(v in o)_[v]||i(_,v,o[v],!0)}},be06:function(t,e,s){"use strict";var o=s("e8a0"),n=s.n(o);n.a},c45e:function(t,e,s){},c603:function(t,e,s){},e8a0:function(t,e,s){},ef73:function(t,e,s){},f1ae:function(t,e,s){"use strict";var o=s("86cc"),n=s("4630");t.exports=function(t,e,s){e in t?o.f(t,e,n(0,s)):t[e]=s}}}]);
//# sourceMappingURL=chunk-1d88bc49.8832cb97.js.map